
<style>
    a {
        color: #757575;  /* replace #yourColor with your desired color */
    }
</style>

<h1 class="code-line" data-line-start=1 data-line-end=2 ><a id="Welcome_to_ProjectRepertoire_1"></a>Welcome to Project-Repertoire!</h1>
<h2 class="code-line" data-line-start=3 data-line-end=4 ><a id="Introduction_3"></a>Introduction:</h2>
<p class="has-line-data" data-line-start="5" data-line-end="6">This web-app was created as a way to practice chess opening variations in a drill format, where each correct move from the user is automatically followed by the next move in the variation. This gives the feeling of playing a real game. Variations are selected using a shuffle scheme–which is basically random, but with history. I.E. A variation will not be selected a second time until all other variations from that opening have been selected.</p>
<p class="has-line-data" data-line-start="7" data-line-end="8">The web-app is designed to be used on a mobile device, but it can also be used on a desktop. [There are no plans to support drag and drop on a desktop in the near future.]</p>
<h2 class="code-line" data-line-start=9 data-line-end=10 ><a id="Flagged_Drills_9"></a>Flagged Drills:</h2>
<p class="has-line-data" data-line-start="11" data-line-end="12">After practicing a variation, there is an option to “Flag Last Drill”. This will add the last selected variation to a bucket of Flagged Drills for White or Flagged Drills for Black. This is a good way to return to a sub-set of variations from many different openings. After practicing a Flagged Drill, there is a new option to “Remove Last Flagged Drill”. This removes the drill that was just being practiced from whatever Flagged Drills bucket it came from.</p>
<p class="has-line-data" data-line-start="13" data-line-end="14">The “Flag Last Drill” and “Remove Last Flagged Drill” buttons are context-sensitive. I.E. they are hidden/visible at the right times.</p>
<h2 class="code-line" data-line-start=15 data-line-end=16 ><a id="User_Account_15"></a>User Account:</h2>
<p class="has-line-data" data-line-start="17" data-line-end="18">After creating a user-account, you’ll have two openings by default: The VonPopiel Gambit [26 variations] and the Busch-Gass Gambit (accepted/denied combined) [95 variations]. William Graif FM is the author of the original Lichess studies used to create these openings in this app. He has (not quite yet) graciously given permission for them to be used in this context. You can see the original studies here:</p>
<ul>
<li class="has-line-data" data-line-start="19" data-line-end="20">Busch-Gass - Gambit <a href="https://lichess.org/study/0JdXDBuf">https://lichess.org/study/0JdXDBuf</a></li>
<li class="has-line-data" data-line-start="20" data-line-end="21">Busch-Gass Gambit Denied - <a href="https://lichess.org/study/ffhmxOxi">https://lichess.org/study/ffhmxOxi</a></li>
<li class="has-line-data" data-line-start="21" data-line-end="23">VonPopiel Gambit - <a href="https://lichess.org/study/FvLbSBZn">https://lichess.org/study/FvLbSBZn</a></li>
</ul>
<h2 class="code-line" data-line-start=23 data-line-end=24 ><a id="Importing_New_Chess_Openings_23"></a>Importing New Chess Openings:</h2>
<p class="has-line-data" data-line-start="25" data-line-end="26">The application supports importing chess openings from a text file using a simplified version of Portable Game Notation (PGN) format.</p>
<p class="has-line-data" data-line-start="27" data-line-end="28">IMPORTANT: Directly importing PGN files is not yet supported.</p>
<h2 class="code-line" data-line-start=29 data-line-end=30 ><a id="Preparation_29"></a>Preparation</h2>
<p class="has-line-data" data-line-start="31" data-line-end="32">Before you can import a new opening, you need to prepare a text file that contains the moves of the opening. Here’s what the basic format of the file should look like:</p>
<pre><code class="has-line-data" data-line-start="34" data-line-end="38" class="language-sh"><span class="hljs-number">1</span>. d4  d5 <span class="hljs-number">2</span>. e4 dxe4 <span class="hljs-number">3</span>. Nc3 Nf6 <span class="hljs-number">4</span>. Bg5 Bf5 <span class="hljs-number">5</span>. f3 exf3 <span class="hljs-number">6</span>. Qxf3 Bc8 <span class="hljs-number">7</span>. O-O-O e6 *
<span class="hljs-number">1</span>. d4 d5 <span class="hljs-number">2</span>. e4 dxe4 <span class="hljs-number">3</span>. Nc3 Nf6 <span class="hljs-number">4</span>. Bg5 Bg4 <span class="hljs-number">5</span>. Nge2 Nbd7 <span class="hljs-number">6</span>. h3 Bh5 <span class="hljs-number">7</span>. g4 Bg6 <span class="hljs-number">8</span>. Nf4 e6 <span class="hljs-number">9</span>. h4 h6 *
[...etc]
</code></pre>
<p class="has-line-data" data-line-start="39" data-line-end="40">Each line break is parsed as a different variation of the opening. Project-Repertoire doesn’t yet support directly importing PGN files, but a conversion process is offered via a simple drag and drop batch file which uses a free, open-source commandline program called pgn-extract (<a href="https://github.com/MichaelB7/pgn-extract">https://github.com/MichaelB7/pgn-extract</a>) in combination with a python script which completes the conversion process. A huge caveat here is the conversion process is imperfect. Some ‘massaging’ of the outputted result is sometimes needed. Because there are so many unexpected things that can be found in a PGN file, it’s difficult to anticipate everything with a single script.</p>
<p class="has-line-data" data-line-start="41" data-line-end="42">You can download all three files here: <a href="https://github.com/johntennant/Repertoire/blob/master/Repertoire_PGN_Convert.zip">https://github.com/johntennant/Repertoire/blob/master/Repertoire_PGN_Convert.zip</a></p>
<p class="has-line-data" data-line-start="43" data-line-end="44">To use the batch file, you’ll Python installed. Next, make sure the PGN filename is exactly what you want the opening to be called in your Repertoire database. (You’ll understand why in a bit.) Then simply drag and drop a PGN file onto the batch file: “Drag PGN File Here.bat”. A new text file will be created in the same directory as the PGN file. The text file will have the same name as the PGN file, but with a .txt extension. This new text file can be imported using the Import Opening button.</p>
<h2 class="code-line" data-line-start=45 data-line-end=46 ><a id="Importing_the_Opening_45"></a>Importing the Opening</h2>
<p class="has-line-data" data-line-start="47" data-line-end="48">Once you have a local text file that’s been prepared as described above, press the Import Opening button. Using the file-select dialog, select your prepared .txt file. The name of the text file becomes the name of the opening after it’s imported. A dialog box will then appear, allowing you to select whether you want to pratice the variations as White or Black. After selecting the color, the opening is imported into the database associated with the current user and the color chosen. If you want to practice the opening as the other color, you must reimport the opening as that color.</p>
<p class="has-line-data" data-line-start="49" data-line-end="50">You should now see a new button with the same name as the text file you imported.</p>

